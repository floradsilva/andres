"use strict";(function(){jQuery(function(e){var o,c,n,s,r,u;return n=0,r="pending",o="Product,Parent,Value at Retail,Value at Cost,Units in stock,Stock status\n",c=e(".export_product_valuation_csv"),s=e(".wc-cog-product-valuation-progress"),u=function(){return e.ajax({type:"POST",url:ajaxurl,data:{action:"wc_cog_do_ajax_product_valuation",offset:n,status:r,security:wc_cog_product_valuation.product_valuation_nonce},dataType:"json",success:function(t){var a;if(t.success)return n=t.data.offset,r=t.data.status,""!==(a=t.data.product_data)&&(o+=a+"\n"),e(".wc-cog-progress").val(t.data.percentage),"done"===r?setTimeout(function(){var t;return c.removeClass("hide"),s.addClass("hide").removeClass("show"),(t=document.createElement("a")).download=c.data("filename"),t.href=URL.createObjectURL(new Blob([o],{type:"text/csv"})),document.body.appendChild(t),t.click(),document.body.removeChild(t)},500):u()}})},c.on("click",function(t){return t.preventDefault(),c.addClass("hide"),s.removeClass("hide").addClass("show"),u()})})}).call(void 0);